  
<html>
<head>
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">


		<link href="css/bootstrap.css" rel="stylesheet">
		<link href="css/bootstrap-select.css" rel="stylesheet">
		<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
		<link href="css/bootstrap-switch.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/scene.css">
		<link rel="stylesheet" href="css/font.css">
		<link rel="stylesheet" type="text/css" href="css/storyGen.css">


		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
	  	<script src="js/bootstrap-switch.js"></script>

	  	<script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>
	  	<script src="js/analytics.js"></script>


</head>
<body>
  <script src="js/mainStorySpriteAr.js"></script>
			<script src="js/mainStorySpriteIndividualAr.js"></script>	

	        

	        
				<button id='whatIsThisGIFGenBut' type="button" class="btn btn-primary" data-toggle="modal" data-target="#whatIsThisGIFGenModal">What is this?</button>
				<button id='startNewStoryGIFBut' type="button" class="btn btn-primary">Start New GIF</button>

			<center>
				<h2><b><div id="sceneNum_box">Frame 1</div></b></h2>
			</center>
				
				<div id="sceneLoading_box"></div>
				<br>
			<center>
				<table style='clear: left;'>
					<tr style='width:400px'>

						<td>
							<select  class="selectpicker" data-style="btn-default" id="story-line-select-option" style='width:10%;' onchange="changeScene();">
							 	<option value="1">Frame 1</option>
							</select>
							<button onclick='addNewScene();' class="btn btn-success" type="button">+</button>
							<button onclick='removeLastScene();' class="btn btn-danger" type="button">-</button>
						</td>

					</tr>
				</table>
				


				<br><br>
                <!-- 
				<div id="container">
				    	<img id='homeScreenStory' src='images/background/background0.png'>
				    	<img id="idol_img_left" src='stories/images/umi_01_01.png'>
				    	<img id="idol_img_center" src='stories/images/honoka_01_01.png'>
				    	<img id="idol_img_right" src='stories/images/kotori_01_01.png'>

				    	<img id="emotion_img_left" src='images/emotion/-1.png' style='opacity: 0.8;'>
				    	<img id="emotion_img_center" src='images/emotion/-1.png' style='opacity: 0.8;'>
				    	<img id="emotion_img_right" src='images/emotion/-1.png' style='opacity: 0.8;'>
				    	
				    	<div id="entire_story_text_box">
				    		<img id="story_speaker_img" src="images/speaker-box.png" style='width:340px;'>
				    		<h2><font style="color:white;"><div id="edit_speaker_box" ></div></font></h2>
					    	<img id="temp_text_box_img" src="images/pink-textbox.png">
					    	<h2><font style="color:white;"><div id="edit_text_box"></div></font></h2>
					  
						</div>
						<div style="position: absolute;top: 8px;right: -60px;"><font color="white"><b>Create your own Love Live GIFs at (llsif-waifu-sim.github.io/)</b></font></div>

				</div>
                -->
                <div id="container">
				    <img id='homeScreenStory' src='./frameChoice/template/interface/idle/0.png'>
				    <!--<img id='homeScreenStory' src='0.png'>-->
				    <div id="entire_story_text_box">
					    <h2><div id="edit_text_box" style="font-family:FOT-Seurat;color:#706155;"></div></font></h2>
					</div>
				</div>

			<br>
		
			 <table>
			 	<tr>
			 		<td>
			 			<label>Select a reaction</label>
						 <select class="selectpicker" data-style="btn-default" id='reactionSelect' onchange='updateReaction()'>
						 	<option value='idle' selected>Idle</option>
						 	<option value='opening'>Intro</option>
						 	<option value='opening-distracted'>Intro (distracted)</option>
						 	<option value='shock-and-embarrased'>Shocked and embarassed</option>
						 	<option value='nod' selected>Nod</option>
						 	<option value='happy-notes'>Happy (musical notes)</option>
						 	<option value='happy-flower'>Happy (flower)</option>
						 	<option value='question-mark'>Question Mark</option>
						 	<option value='closing'>Closing</option>
						 	<option value='closing-tilt'>Closing (tilt)</option>
						 	<option value='love'>Love</option>
						 	<option value='thinking'>Thinking</option>
						 	<option value='happy-flash'>Happy (flash)</option>
						 	<option value='idea'>Idea</option>
						 	<option value='notice'>Notice</option>
						 </select>
			 		</td>


			 		<td style="padding-left: 30px;">
			 			Number of frames for this reaction:<br> <div style="font-size:small">(without skipping frames)</div>
			 		</td>
			 		<td style="padding-left: 30px;">
			 			<div id="reactionFrameNumDiv"></div>
			 		</td>
			 	</tr>
			 	<tr>
			 		<td style="padding-top: 10px;">
			 			<a href="#" data-toggle="modal" data-target="#whatIsThisReaction">What does this reaction look like?</a>
			 		</td>
			 		
			 	</tr>
			 </table>
			 
			
			 <br><br>
			 <div style="width:60%">
			 	<input type="text" id="story-textfield" class="form-control" placeholder='Enter dialouge text here (max: 220 characters)' maxlength="150" >
			 	<!--<button style='width:100%' type="button" id="insertStoryText_but" class="btn btn-primary" onclick="addStoryText();">Insert Text</button>-->
			 	
			 </div>
			 




			 <br><br>


			 <button style='width:70%' type="button" id="insertStoryText_but" class="btn btn-primary" onclick="saveCurrentScene();">Save frame</button>
			 <br><br>
			<h2>GIF settings</h2>
			<table>
				<tr>
					<td>
						Smoothness quality:
					</td>
					<td style='padding:10px;'>
						 <select class="selectpicker" data-style="btn-default" id="smoothnessLevelShift" onchange="selectSmoothness()";>
						 	<option value='low' selected>Low smoothness</option>
						 	<option value='max'>Max smoothness</option>
						 </select>

					</td>
				</tr>
				<tr>
					<td>
						GIF Interval (time to move to next frame):
					</td>
					<td style='padding:10px;'>
						 <select class="selectpicker" data-style="btn-default" id='gifIntervalSelect'>
						 	<option value='0.05'>0.05 seconds</option>
						 	<option value='0.1'>0.1 seconds</option>
						 	<option value='0.2'>0.2 seconds</option>
						 	<option value='0.25' selected>0.25 seconds</option>
						 	<option value='0.3'>0.3 seconds</option>
						 	<option value='0.4'>0.4 second</option>
						 	<option value='0.5'>0.5 seconds</option>
						 	<option value='0.6'>0.6 seconds</option>
						 	<option value='0.7'>0.7 seconds</option>
						 	<option value='0.8'>0.8 seconds</option>
						 	<option value='0.9'>0.9 seconds</option>
						 	<option value='1.0'>1 second</option>
						 </select>

					</td>
				</tr>
				<tr>
					<td>
						How many frames to skip:
					</td>
					<td style='padding:10px;'>
						 <select class="selectpicker" data-style="btn-default" id='frameSkipSelector'>
						 	<option value='0'>Skip no frames</option>
						 	<option value='1'>1 frame</option>
						 	<option value='2'>2 frames</option>
						 	<option value='3' selected>3 frames</option>
						 	<option value='4'>4 frames</option>
						 	<option value='5'>5 frames</option>
						 	<option value='6'>6 frames</option>
						 	<option value='7'>7 frames</option>
						 </select>

					</td>
				</tr>
				<tr>
					<td>
						Total frames saved in this animation with current settings: 
					</td>
					<td>
						<div id="frameRecordDiv" style="padding-left: 30px;">0</div>
					</td>
				</tr>
				<!--
				<tr>
					<td>
						GIF resolution
					</td>
					<td>
						<select class="selectpicker" data-style="btn-default" id='storyResolutionSelect'>
							<option value='1'>480x320</option>
							<option value='2' selected>600x400</option>
							<option value='3'>780x520</option>
							<option value='4'>960x640</option>
						</select>
					</td>
					<td>
						
					</td>
					
				</tr>
				-->
				<!--
				<tr>
					<td  style='width:400px;'>
						Enable Rolling Text in GIF:
					</td>
					
					<td style='width:200px;'>
						No Rolling Text: 
						<input type="radio" name="rollingTextRadio" id="radio-rollingText-switch-no" value="no" onclick='checkRollingTextRequirements();' checked>
					</td>
					<td style='width:200px;'>
						With rolling text:
						<input type="radio" name="rollingTextRadio" id="radio-rollingText-switch-yes" value="yes" onclick='checkRollingTextRequirements();'>
					
					</td>

				</tr>
				
				<tr>
					<td>
					<div id='smoothnessLabelHide' style='display:none;'>
						Text Rolling Smoothness Quality:
					</div>
						
					</td>
					<td style='padding:10px;'>
						 <select class="selectpicker" data-style="btn-default" id='smoothnessTextSelect'>
						 	<option value='2'>Level 1</option>
						 	<option value='3' selected>Level 2</option>
						 	<option value='4'>Level 3</option>
						 	<option value='5'>Level 4</option>
						 </select>

					</td>
				</tr>
				-->
			

			</table>

			<br><br><br>
			<div style='padding:10px; width:70%;text-align:left;'>
				<b>Disclaimer: This is a beta, so bugs are possible. Worst case worst, just refresh your browser and save every frame before constructing again or click on the "New GIF" button and start fresh again</b><br><br>
				<u><b>PLEASE NOTE:</b></u><br>
				This GIF-making web app works purely on the client-side.<br><br>
				What that means is that creation of the GIF depends on the computational power of the computer you are using. <br><br>
				If you noticed it is taking forever to generate your GIF, it is most likely that your animation has too many frames to process than your computer can handle.<br><br>
				If you are using this for the first time, it is recommended you set the smoothness quality of your GIF to "Low smoothness" above. The "How many frames to skip" setting has a major impact on how much computation your computer has to do before your GIF is generated. So the lower the frame count, the better!<br><br>
				Keep track of the total frame count of your animation above (if starting out, we recommend keeping the frame count of the animation to be under 50), then edit the settings. 

			</div>
			<br><br><br><br>
			<button style='width:70%' type="button" id="convertGIF_but" class="btn btn-primary" onclick="startACGIFCreation();">Construct GIF</button>
			<br><br>

			 
			 <div id='uploadInProcessDiv' style='display:none;'>
			 	<table>
			 		<tr>
			 			<td>
			 				<img src="images/downloading.gif" style='height:30px;width:auto;'>
			 			</td>
			 			<td>
			 				<div id="sceneLoadingBox">Preparing to upload . . .</div>
			 			</td>
			 		</tr>
			 	</table>
			 	
			 </div>


			  <div class="modal fade" id="whatIsThisGIFGenModal" role="dialog">
			    <div class="modal-dialog" style='width: 1200px; height:800px;'>
			    
			      <!-- Modal content-->
			      <div class="modal-content">
			        <div class="modal-header">
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			          <h4 class="modal-title">What is this?</h4>
			        </div>
			        <div class="modal-body">
			        


			        	Welcome to Animal Crossing GIF Maker, where you can make your own animated GIFs with ease (no video/image editing skills required)! 
						<br><br>
						Currently we support making animated GIFs of Isabelle's intro announcements from New Horizons, allowing you to piece together text and multiple reactions to create your own animated GIF of Isabelle. Whether it is creating a fun story or dank memes, you can let your imagine run wild on what to make Isabelle say.
						<br><br>
						<b>Sample GIFs made by this site:</b>
						<br>
						<table>
							<tr style='padding:10px;'>
								<td style='padding:10px;'>
									<img src='examples/2.gif' width="480" height="288">
								</td>
								<td style='padding:10px;'>
									<img src='examples/3.gif' width="480" height="288">
								</td>
							</tr>
							<tr style='padding:10px;'>
								<td style='padding:10px;'>
									<img src='examples/0.gif' width="480" height="288">
								</td>
								<td style='padding:10px;'>
									<img src='examples/1.gif' width="480" height="288">
								</td>
							</tr>
							
						</table>
					
					
						<br><br>
						Have fun!
						<br>



			        </div>
			        <div class="modal-footer">
			          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			        </div>
			      </div>
			      
			    </div>
			  </div>
			  </div>






			  <div class="modal fade" id="whatIsThisReaction" role="dialog">
			    <div class="modal-dialog">
			    
			      <!-- Modal content-->
			      <div class="modal-content">
			        <div class="modal-header">
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			          <h4 class="modal-title">What does this reaction look like.?</h4>
			        </div>
			        <div class="modal-body">
			        <center>
			        	<h1>This is what your frame reaction will look like:</h1>
			        	<img src='' id="reactionGIFImg" width="480" height="288">
			        </center>


			        </div>
			        <div class="modal-footer">
			          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			        </div>
			      </div>
			      
			    </div>
			  </div>
			  </div>







			 <center><div id='gifOutputDiv'></div></center>

			<br><br><br>
			<img id="imageGIF">
			<canvas id="story-canvas" width="1700" height="1550" style="border:1px solid #d3d3d3;display:none;"> 
			<!--<canvas id="story-canvas" width="1700" height="1550" style="border:1px solid #d3d3d3;">-->
			Your browser does not support the HTML5 canvas tag.</canvas>
			</center>
			<script type="text/javascript" src="js/bootstrap-select.js"></script>


			<script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>


			<script src="js/firebaseInit.js"></script>

			 <script src="js/storyMakerScript.js"></script>
			 
			 <script src='js/gifshot.js'></script> 

			

	
	</body>
</html>